qubits 12

map q0,move
map q1,head0
map q2,head1
map q3,head2
map q4,head3
map q5,ancilla0
map q6,ancilla1
map q7,ancilla2

map q8,test0
map q9,test1
map q10,test2
map q11,test3

h move
h head0
h head1
h head2
h head3

cnot head0,test0
cnot head1,test1
cnot head2,test2
cnot head3,test3

toffoli move,head0,ancilla0
cnot move,head0
toffoli ancilla0,head1,ancilla1
toffoli ancilla1,head2,ancilla2
cnot ancilla2,head3
toffoli ancilla1,head2,ancilla2
cnot ancilla1,head2
toffoli ancilla0,head1,ancilla1
cnot ancilla0,head1
cnot move,head0
toffoli move,head0,ancilla0
cnot move,head0

display


         (+0.176777,+0.000000) |0000-000-0000-0> +
         (+0.176777,+0.000000) |0000-000-0001-1> +
         (+0.176777,+0.000000) |0001-000-0001-0> +
         (+0.176777,+0.000000) |0001-000-0010-1> +
         (+0.176777,+0.000000) |0010-000-0010-0> +
         (+0.176777,+0.000000) |0010-000-0011-1> +
         (+0.176777,+0.000000) |0011-000-0011-0> +
         (+0.176777,+0.000000) |0011-000-0100-1> +
         (+0.176777,+0.000000) |0100-000-0100-0> +
         (+0.176777,+0.000000) |0100-000-0101-1> +
         (+0.176777,+0.000000) |0101-000-0101-0> +
         (+0.176777,+0.000000) |0101-000-0110-1> +
         (+0.176777,+0.000000) |0110-000-0110-0> +
         (+0.176777,+0.000000) |0110-000-0111-1> +
         (+0.176777,+0.000000) |0111-000-0111-0> +
         (+0.176777,+0.000000) |0111-000-1000-1> +
         (+0.176777,+0.000000) |1000-000-1000-0> +
         (+0.176777,+0.000000) |1000-000-1001-1> +
         (+0.176777,+0.000000) |1001-000-1001-0> +
         (+0.176777,+0.000000) |1001-000-1010-1> +
         (+0.176777,+0.000000) |1010-000-1010-0> +
         (+0.176777,+0.000000) |1010-000-1011-1> +
         (+0.176777,+0.000000) |1011-000-1011-0> +
         (+0.176777,+0.000000) |1011-000-1100-1> +
         (+0.176777,+0.000000) |1100-000-1100-0> +
         (+0.176777,+0.000000) |1100-000-1101-1> +
         (+0.176777,+0.000000) |1101-000-1101-0> +
         (+0.176777,+0.000000) |1101-000-1110-1> +
         (+0.176777,+0.000000) |1110-000-1110-0> +
         (+0.176777,+0.000000) |1110-000-1111-1> +
         (+0.176777,+0.000000) |1111-000-0000-1> +
         (+0.176777,+0.000000) |1111-000-1111-0> +

qubits 12

map q0,move
map q1,head0
map q2,head1
map q3,head2
map q4,head3
map q5,ancilla0
map q6,ancilla1
map q7,ancilla2

map q8,test0
map q9,test1
map q10,test2
map q11,test3

h move
h head0
#h head1
#h head2
#h head3

cnot head0,test0
cnot head1,test1
cnot head2,test2
cnot head3,test3

x head0
toffoli move,head0,ancilla0
x head0 

cnot move,head0
cnot ancilla0,head0

display

         (+0.500000,+0.000000) |0000-000-0000-0> +
         (+0.500000,+0.000000) |0000-001-0000-1> +
         (+0.500000,+0.000000) |0001-000-0000-1> +
         (+0.500000,+0.000000) |0001-000-0001-0> +



         (+0.176777,+0.000000) |0000-000-0000-0> +
         (+0.176777,+0.000000) |0000-000-1111-1> +
         (+0.176777,+0.000000) |0001-000-0000-1> +
         (+0.176777,+0.000000) |0001-000-0001-0> +
         (+0.176777,+0.000000) |0010-000-0001-1> +
         (+0.176777,+0.000000) |0010-000-0010-0> +
         (+0.176777,+0.000000) |0011-000-0010-1> +
         (+0.176777,+0.000000) |0011-000-0011-0> +
         (+0.176777,+0.000000) |0100-000-0011-1> +
         (+0.176777,+0.000000) |0100-000-0100-0> +
         (+0.176777,+0.000000) |0101-000-0100-1> +
         (+0.176777,+0.000000) |0101-000-0101-0> +
         (+0.176777,+0.000000) |0110-000-0101-1> +
         (+0.176777,+0.000000) |0110-000-0110-0> +
         (+0.176777,+0.000000) |0111-000-0110-1> +
         (+0.176777,+0.000000) |0111-000-0111-0> +
         (+0.176777,+0.000000) |1000-000-0111-1> +
         (+0.176777,+0.000000) |1000-000-1000-0> +
         (+0.176777,+0.000000) |1001-000-1000-1> +
         (+0.176777,+0.000000) |1001-000-1001-0> +
         (+0.176777,+0.000000) |1010-000-1001-1> +
         (+0.176777,+0.000000) |1010-000-1010-0> +
         (+0.176777,+0.000000) |1011-000-1010-1> +
         (+0.176777,+0.000000) |1011-000-1011-0> +
         (+0.176777,+0.000000) |1100-000-1011-1> +
         (+0.176777,+0.000000) |1100-000-1100-0> +
         (+0.176777,+0.000000) |1101-000-1100-1> +
         (+0.176777,+0.000000) |1101-000-1101-0> +
         (+0.176777,+0.000000) |1110-000-1101-1> +
         (+0.176777,+0.000000) |1110-000-1110-0> +
         (+0.176777,+0.000000) |1111-000-1110-1> +
         (+0.176777,+0.000000) |1111-000-1111-0> +